import requests
import json
import sys
import os

# –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –∏–º–ø–æ—Ä—Ç
sys.path.append(os.path.join(os.path.dirname(__file__), '..', 'config'))
from settings import PUBG_API_KEY

def check_api_documentation():
    """–ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å API"""
    print("üìã –ò–°–°–õ–ï–î–û–í–ê–ù–ò–ï PUBG API")
    
    api_key = PUBG_API_KEY
    headers = {
        "Authorization": f"Bearer {api_key}",
        "Accept": "application/vnd.api+json"
    }
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å API
    try:
        response = requests.get("https://api.pubg.com/status", headers=headers)
        if response.status_code == 200:
            data = response.json()
            print("‚úÖ –°—Ç–∞—Ç—É—Å API:")
            print(json.dumps(data, indent=2))
            
            # –ò—â–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö
            if 'data' in data:
                for item in data['data']:
                    print(f"\nüîç –≠–ª–µ–º–µ–Ω—Ç: {item.get('id', 'N/A')}")
                    attrs = item.get('attributes', {})
                    for key, value in attrs.items():
                        print(f"   {key}: {value}")
    
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞: {e}")
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–µ —à–∞—Ä–¥—ã –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
    print(f"\nüìñ –û–§–ò–¶–ò–ê–õ–¨–ù–´–ï –®–ê–†–î–´ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:")
    official_shards = [
        'steam',      # PC Steam
        'kakao',      # PC Kakao
        'console',    # Xbox/PlayStation  
        'stadia',     # Google Stadia
        'tournament'  # –¢—É—Ä–Ω–∏—Ä–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
    ]
    
    for shard in official_shards:
        print(f"   {shard}: –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è")
    
    print(f"\nüí° –í–´–í–û–î:")
    print(f"   ‚úÖ PUBG API —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è PC/Console –≤–µ—Ä—Å–∏–π")
    print(f"   ‚ùå PUBG Mobile –ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º API")
    print(f"   üéØ –ù–æ –º—ã –º–æ–∂–µ–º –ø–æ–ª—É—á–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É PC –º–∞—Ç—á–µ–π –ø–æ Room ID!")

def test_room_id_concept():
    """–¢–µ—Å—Ç–∏—Ä—É–µ–º –∫–æ–Ω—Ü–µ–ø—Ü–∏—é –ø–æ–∏—Å–∫–∞ –ø–æ Room ID"""
    print(f"\nüéØ –¢–ï–°–¢: –ö–æ–Ω—Ü–µ–ø—Ü–∏—è –ø–æ–∏—Å–∫–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –º–∞—Ç—á–µ–π")
    
    api_key = PUBG_API_KEY
    headers = {
        "Authorization": f"Bearer {api_key}",
        "Accept": "application/vnd.api+json"
    }
    
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º —É–∂–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–π —Ä–∞–±–æ—á–∏–π –º–∞—Ç—á
    known_match_id = "9b020a57-b3de-4dd9-9ae5-123456789abc"  # –ü—Ä–∏–º–µ—Ä –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ç–µ—Å—Ç–∞
    
    print(f"üí° –ò–¥–µ—è: –ï—Å–ª–∏ —É –Ω–∞—Å –µ—Å—Ç—å Room ID –∏–∑ –∏–≥—Ä—ã,")
    print(f"   –º—ã –º–æ–∂–µ–º –Ω–∞–π—Ç–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –º–∞—Ç—á —á–µ—Ä–µ–∑:")
    print(f"   1. –ü–æ–∏—Å–∫ –ø–æ –∏–≥—Ä–æ–∫–∞–º –∏–∑ –ª–æ–±–±–∏")
    print(f"   2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏ —Å–æ–∑–¥–∞–Ω–∏—è –º–∞—Ç—á–∞") 
    print(f"   3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–∞—Å—Ç–æ–º–Ω—ã–π –º–∞—Ç—á")
    
    print(f"\nüìù –ê–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:")
    print(f"   1. –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Ç—É—Ä–Ω–∏—Ä–∞")
    print(f"   2. –ò—â–µ–º –Ω–µ–¥–∞–≤–Ω–∏–µ –º–∞—Ç—á–∏ –ø–µ—Ä–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞")
    print(f"   3. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∞—Ç—á–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º:")
    print(f"      - –≠—Ç–æ –∫–∞—Å—Ç–æ–º–Ω—ã–π –º–∞—Ç—á?")
    print(f"      - –í—Ä–µ–º—è —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç—É—Ä–Ω–∏—Ä–æ–º?") 
    print(f"      - –£—á–∞—Å—Ç–≤—É—é—Ç –ª–∏ –Ω–∞—à–∏ –∏–≥—Ä–æ–∫–∏?")
    print(f"   4. –ü–æ–ª—É—á–∞–µ–º –ø–æ–ª–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –º–∞—Ç—á–∞")

def mobile_alternative_solution():
    """–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –º–æ–±–∞–π–ª–∞"""
    print(f"\nüì± –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–´ –î–õ–Ø PUBG MOBILE:")
    
    print(f"1. üéÆ –ï—Å–ª–∏ —Ç—É—Ä–Ω–∏—Ä –≤ PC –≤–µ—Ä—Å–∏–∏:")
    print(f"   ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º PUBG API")
    print(f"   ‚úÖ –ü–æ–ª—É—á–∞–µ–º –ø–æ–ª–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É")
    print(f"   ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Å—á–µ—Ç –ø—Ä–∏–∑–æ–≤")
    
    print(f"\n2. üì± –ï—Å–ª–∏ —Ç—É—Ä–Ω–∏—Ä –≤ Mobile –≤–µ—Ä—Å–∏–∏:")
    print(f"   ‚ùå –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ API –Ω–µ—Ç")
    print(f"   üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:")
    print(f"      - –†—É—á–Ω–æ–π –≤–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–æ–∑–¥–∞—Ç–µ–ª–µ–º")
    print(f"      - –°–∫—Ä–∏–Ω—à–æ—Ç—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤")
    print(f"      - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏")
    
    print(f"\nüí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø:")
    print(f"   –°–æ–∑–¥–∞—Ç—å –≥–∏–±—Ä–∏–¥–Ω—É—é —Å–∏—Å—Ç–µ–º—É:")
    print(f"   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è PC PUBG") 
    print(f"   - –†—É—á–Ω–æ–π –≤–≤–æ–¥ –¥–ª—è Mobile PUBG")

if __name__ == "__main__":
    check_api_documentation()
    test_room_id_concept()
    mobile_alternative_solution()